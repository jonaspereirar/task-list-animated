(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{6495:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return n(126)}])},126:function(e,t,n){"use strict";n.r(t);var r=n(4051),a=n.n(r),s=n(5893),o=n(9008),i=n(1664),l=n(7294),c=n(6597),u=n(9692),p=n(6808),m=n.n(p),d=n(1163);function f(e,t,n,r,a,s,o){try{var i=e[s](o),l=i.value}catch(c){return void n(c)}i.done?t(l):Promise.resolve(l).then(r,a)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(){var e=(0,l.useState)({email:"",password:""}),t=e[0],n=e[1],r=t.email,p=t.password,x=(0,l.useContext)(c.R),y=x.state,v=x.dispatch,b=y.auth,j=(0,d.useRouter)(),g=function(e){var r=e.target,a=r.name,s=r.value;n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({},t,h({},a,s))),v({type:"NOTIFY",payload:{}})},w=function(){var e,n=(e=a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),v({type:"NOTIFY",payload:{loading:!0}}),e.next=4,(0,u.qC)("auth/login",t);case 4:if(!(r=e.sent).err){e.next=7;break}return e.abrupt("return",v({type:"NOTIFY",payload:{error:r.err}}));case 7:v({type:"NOTIFY",payload:{success:r.msg}}),v({type:"AUTH",payload:{token:r.access_token,user:r.user}}),m().set("refreshtoken",r.refresh_token,{path:"api/auth/accessToken",expires:7}),localStorage.setItem("firstLogin",!0);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){f(s,r,a,o,i,"next",e)}function i(e){f(s,r,a,o,i,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,l.useEffect)((function(){0!==Object.keys(b).length&&j.push("/")}),[b]),(0,s.jsxs)("div",{children:[(0,s.jsxs)(o.default,{children:[(0,s.jsx)("title",{children:"Entrar"}),(0,s.jsx)("meta",{name:"facebook-domain-verification",content:"wrs2vl5k2z6jg7z3jggsa9cv2hzif3"})]}),(0,s.jsxs)("form",{className:"mx-auto my-4",style:{maxWidth:"500px"},onSubmit:w,children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Endere\xe7o de Email"}),(0,s.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",name:"email",value:r,onChange:g,placeholder:"Seu email"}),(0,s.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"Nunca compartilharemos seu e-mail"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Senha"}),(0,s.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",name:"password",value:p,onChange:g,placeholder:"Sua senha"})]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-dark w-100",children:"Entrar"}),(0,s.jsxs)("p",{className:"my-2",children:["Voc\xea n\xe3o possui uma conta? ",(0,s.jsx)(i.default,{href:"/register",children:(0,s.jsx)("a",{style:{color:"crimson"},children:"Registe-se"})})]})]})]})}}},function(e){e.O(0,[774,888,179],(function(){return t=6495,e(e.s=t);var t}));var t=e.O();_N_E=t}]);