(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[645],{5877:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit_user/[id]",function(){return n(6849)}])},6849:function(e,t,n){"use strict";n.r(t);var r=n(5893),a=n(9008),s=n(7294),i=n(6597),l=n(1374),c=n(1163),o=n(9692);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(){var e=(0,c.useRouter)(),t=e.query.id,n=(0,s.useContext)(i.R),d=n.state,m=n.dispatch,f=d.auth,h=d.users,p=(0,s.useState)([]),x=p[0],b=p[1],j=(0,s.useState)(!1),y=j[0],N=j[1],_=(0,s.useState)(0),k=_[0],v=_[1];(0,s.useEffect)((function(){h.forEach((function(e){e._id===t&&(b(e),N("admin"===e.role))}))}),[h]);return(0,r.jsxs)("div",{className:"edit_user my-3",children:[(0,r.jsx)(a.default,{children:(0,r.jsx)("title",{children:"Edit User"})}),(0,r.jsx)("div",{children:(0,r.jsxs)("button",{className:"btn btn-dark",onClick:function(){return e.back()},children:[(0,r.jsx)("i",{className:"fas fa-long-arrow-alt-left","aria-hidden":!0})," Go Back"]})}),(0,r.jsxs)("div",{className:"col-md-4 mx-auto my-4",children:[(0,r.jsx)("h2",{className:"text-uppercase text-secondary",children:"Edit User"}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"name",className:"d-block",children:"Name"}),(0,r.jsx)("input",{type:"text",id:"name",defaultValue:x.name,disabled:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"email",className:"d-block",children:"Email"}),(0,r.jsx)("input",{type:"text",id:"email",defaultValue:x.email,disabled:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("input",{type:"checkbox",id:"isAdmin",checked:y,style:{width:"20px",height:"20px"},onChange:function(){N(!y),v(k+1)}}),(0,r.jsx)("label",{htmlFor:"isAdmin",style:{transform:"translate(4px, -3px)"},children:"isAdmin"})]}),(0,r.jsx)("button",{className:"btn btn-dark",onClick:function(){var e=y?"admin":"user";k%2!==0&&(m({type:"NOTIFY",payload:{loading:!0}}),(0,o.B6)("user/".concat(x._id),{role:e},f.token).then((function(t){return t.err?m({type:"NOTIFY",payload:{error:t.err}}):(m((0,l.$G)(h,x._id,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({},x,{role:e}),"ADD_USERS")),m({type:"NOTIFY",payload:{success:t.msg}}))})))},children:"Update"})]})]})}}},function(e){e.O(0,[774,888,179],(function(){return t=5877,e(e.s=t);var t}));var t=e.O();_N_E=t}]);